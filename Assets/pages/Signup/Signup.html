<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up</title>
    <link rel="stylesheet" href="./Signup.css" />
    <link rel="stylesheet" href="../../navbar.css" />
    <link rel="stylesheet" href="../../overall.css" />

    <link
      rel="stylesheet"
      href="../../fontawesome-free-5.15.1-web/css/all.css"
    />
    <link
      rel="stylesheet"
      href="../../fontawesome-free-5.15.1-web/css/brands.css"
    />
    <link
      rel="stylesheet"
      href="../../fontawesome-free-5.15.1-web/css/fontawesome.css"
    />
    <link
      rel="stylesheet"
      href="../../fontawesome-free-5.15.1-web/css/regular.css"
    />
    <link
      rel="stylesheet"
      href="../../fontawesome-free-5.15.1-web/css/solid.css"
    />
  </head>
  <body>
    <nav>
      <div class="brand-bar">
        <p class="brand">Trimma</p>
        <button id="togglenavbar"><i class="fas fa-bars"></i></button>
      </div>

      <ul id="menu" class="hide-nav">
        <a href="../../../index.html"
          ><li><i class="fas fa-home"> </i>&nbsp;Home</li></a
        >
        <a href="./Signup.html"
          ><li><i class="fas fa-user-plus"> </i>&nbsp;Register</li></a
        >
        <a href="../Signin/Signin.html">
          <li><i class="fas fa-user"> </i>&nbsp;Log in</li></a
        >
        <a href="../Howitworks/hiw.html">
          <li><i class="fas fa-info"> </i>&nbsp;How it works</li></a
        >
        <a href="">
          <li><i class="fas fa-phone"> </i>&nbsp;Contact us</li></a
        >
      </ul>
    </nav>
    <div class="main">
      <div class="welcome">
        <img src="../../Cozy Settings Illustration.svg" alt="relaxation" />
        <p>The best way to get your work done the fastest.</p>
        <p><span>Welcome to </span><span>trimma</span></p>
        <div class="signin">
          <p>click here if you have an account</p>
          <button>Sign in</button>
        </div>
      </div>
      <div class="form-placing">
        <div class="choice">
          <button id="ChoiceEmployer">Employee</button>
          <button id="ChoiceEmployee" class="button-notactive">Employer</button>
        </div>
        <div id="response"></div>
        <form id="employer" class="" enctype="multipart/form-data">
          <div class="type">
            <p>For Employee</p>
          </div>
          <div>
            <label for="Full name">What's your name?</label>
            <p class="help info"></p>
            <input
              type="text"
              name="Fname"
              placeholder="Full name"
              id="fnames"
            />
          </div>
          <div>
            <label for="email">What's your email address?</label>
            <p class="help info"></p>
            <input
              type="email"
              placeholder="name@domain.com"
              name="email"
              id="emailE"
            />
          </div>
          <div>
            <label for="address">Where do you stay?</label>
            <p class="help info"></p>
            <input
              type="text"
              name="address"
              placeholder="Address"
              id="addressE"
            />
          </div>
          <div>
            <label for="bankname">What's your company's name?</label>
            <p class="help info"></p>
            <input
              type="text"
              name="companysname"
              placeholder="Company's name"
              id="companysname"
            />
          </div>
          <div>
            <label for="age">How old are you?</label>
            <p class="help info"></p>
            <select name="age" id="age">
              <option value=""></option>
              <option value="18yrs">18yrs</option>
              <option value="19yrs">19yrs</option>
              <option value="20yrs">20yrs</option>
              <option value="21yrs">21yrs</option>
              <option value="22yrs">22yrs</option>
              <option value="23yrs">23yrs</option>
              <option value="24yrs">24yrs</option>
              <option value="25yrs">25yrs</option>
            </select>
          </div>
          <div>
            <label for="need"> What service do you need?</label>
            <p class="help info"></p>
            <select name="work" id="work">
              <option value=""></option>
              <option value="Vector Art">Vector Art</option>
              <option value="Frontend Developer">Frontend Developer</option>
              <option value="Backend Developer">Backend Developer</option>
              <option value="Full stack Developer">Full stack Developer</option>
              <option value="Graphics Designer">Graphics Designer</option>
            </select>
          </div>

          <div>
            <label for="password">choose a password</label>
            <p class="help password"></p>
            <input type="password" name="password" id="passwordE" />
            <p></p>
          </div>
          <div>
            <label for="password">Retype the password</label>
            <p class="helppassmatch"></p>
            <input type="password" name="Cpassword" id="CpasswordE" />
          </div>
          <div class="terms">
            <input type="checkbox" id="check" />
            <p>I have read the terms and agreement and agreed with it.</p>
          </div>
          <div>
            <button type="button" onclick="regEmployee()">Submit</button>
          </div>
        </form>
        <!--
            
            Code below is for the form for organizations going to employ
        
    
        -->
        <form id="employee" class="hide">
          <div class="type">
            <p>For Employer</p>
          </div>
          <div>
            <label for="Full name">What's your Company's name?</label>
            <p class="help info"></p>
            <input
              type="text"
              name="cname"
              placeholder="Company's name"
              id="cnames"
            />
          </div>
          <div>
            <label for="email">What's it's email address?</label>
            <p class="help info"></p>
            <input
              type="email"
              placeholder="name@domain.com"
              name="email"
              id="email"
            />
          </div>
          <div>
            <label for="address">Where is the company located?</label>
            <p class="help info"></p>
            <input
              type="text"
              name="address"
              placeholder="Address"
              id="address"
            />
          </div>
          <div>
            <label for="password">choose a password</label>
            <p class="help password"></p>
            <input type="password" name="password" id="password" />
            <p></p>
          </div>
          <div>
            <label for="password">Retype the password</label>
            <p class="help passmatch"></p>
            <input type="password" name="Cpassword" id="Cpassword" />
          </div>
          <div class="terms">
            <input type="checkbox" />
            <p>I have read the terms and agreement and agreed with it.</p>
          </div>
          <div>
            <button type="button" onclick="regEmployer()">Submit</button>
          </div>
        </form>
      </div>
    </div>
    <script src="../../flexbox.js"></script>
    <script src="../../jquery.min.js"></script>
    <script src="./signup.js"></script>
    <script>      
          //Employee's registration section
      function regEmployee() {
        let pass = document.querySelector("#passwordE");
        let cpass = document.querySelector("#CpasswordE");
        let age = document.querySelector("#age");
        let work = document.querySelector("#work");
        let company = document.querySelector("#companysname");
        let address = document.querySelector("#addressE");
        let mail = document.querySelector("#emailE");
        if ( fname !=="" && cpass.value !== "" && pass.value !== "" &&
           age.value !== "" &&
           work.value !== "" &&
           company.value !== "" &&
           address.value !== "" && mail.value !=="") {
          // if (pass.value == cpass.value) {

           var obj = "name="+fname.value + 
                  "&company="+company.value +  
                  "&age="+age.value +  
                  "&Iwork="+work.value +  
                  "&add="+address.value + 
                  "&mail="+mail.value + 
                  "&password="+pass.value;
          // AJAX code to submit the users information to backend
            $.ajax({
              type: "POST",
              url: "signupE.php",
              data: obj,
              cache: false,
              success: (res)=>{
                document.querySelector("#response").innerText = res;
              }
            });
        // }else{
        //   document.querySelector("#response").innerHTML = "<p class='error'>All fields must not be empty..</p>";
        // }
          } else {
            document.querySelector(".helppassmatch").innerHTML = "<p class='error'>password does'nt match.</p>";
          }
        return false;
      }

      //Employers section
      regEmployer = () =>{
        let cpass = document.querySelector("#Cpassword");
        let company = document.querySelector("#cnames");
        let address = document.querySelector("#address");
        let mail = document.querySelector("#email");
        if (cpass.value !=="" && company.value !== "" && address.value !=="" && mail.value !== "" && password.value !=="") {
          // if (password.value == cpass.value) {
              var info = "name=" +company.value+ 
              "&pass="+password.value+ 
              "&address="+address.value+
              "&mail="+mail.value;
              //Sending iformation to the backend
              $.ajax({
                type: "POST",
                url: "signup.php",
                data: info,
                cache: false,
                success: (res)=>{
                  document.querySelector("#response").innerHTML = "<p class='success'>Employer successfully registered.</p>";
                }
              });
          // } else {
          //   document.querySelector(".help passmatch").innerHTML = "<p class='error'>password does'nt match.</p>";
          // }
          return false;
        } else {
          document.querySelector("#response").innerHTML = "<p class='error'>All fields must not be empty..</p>";
        }
      }
</script>
  </body>
</html>
